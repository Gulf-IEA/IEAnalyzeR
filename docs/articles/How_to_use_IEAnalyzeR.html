<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>How to use IEAnalyzeR • IEAnalyzeR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How to use IEAnalyzeR">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IEAnalyzeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/How_to_use_IEAnalyzeR.html">How to use IEAnalyzeR</a></li>
    <li><a class="dropdown-item" href="../articles/IEAnalyzeR_Plotting.html">IEAnalyzeR Plotting Customization</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>How to use IEAnalyzeR</h1>
            
      

      <div class="d-none name"><code>How_to_use_IEAnalyzeR.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette demonstrates how to use the main functions in
IEAnalyzeR to format and plot indicator time series data of varying
formats.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">IEAnalyzeR</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="saving-data-in-the-proper-format">Saving data in the proper format<a class="anchor" aria-label="anchor" href="#saving-data-in-the-proper-format"></a>
</h2>
<p>In order to run data through the data_prep function in IEAnalyzeR,
which prepares it for plotting and pulls out relevant information, the
data need to be formatted in a specific way and saved as a csv file.</p>
<p>The function convert_cleaned_data will help you here. Every dataset
needs to have time as the first column (either annual or monthly) and
numeric values for the corresponding metrics in the remaining columns.
convert_cleaned_data will add metadata in the first 3 rows of the data
frame that data_prep will use for labeling.</p>
<p>Example with a single metric. In this example annual biomass
(thousand pounds) of “Red fish” was recorded from 2000 to 2024.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">single_metric</span><span class="op">)</span></span>
<span><span class="co">#&gt;   year red_fish</span></span>
<span><span class="co">#&gt; 1 2000 93.18448</span></span>
<span><span class="co">#&gt; 2 2001 94.96603</span></span>
<span><span class="co">#&gt; 3 2002 42.89116</span></span>
<span><span class="co">#&gt; 4 2003 86.43581</span></span>
<span><span class="co">#&gt; 5 2004 71.33964</span></span>
<span><span class="co">#&gt; 6 2005 61.52768</span></span>
<span></span>
<span><span class="co">#Define header components for the data rows (ignore year)</span></span>
<span><span class="va">indicator_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Red fish biomass"</span><span class="op">)</span></span>
<span><span class="va">unit_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Thousand pounds"</span><span class="op">)</span></span>
<span><span class="va">extent_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Call the function</span></span>
<span><span class="va">single_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convert_cleaned_data.html">convert_cleaned_data</a></span><span class="op">(</span><span class="va">single_metric</span>, <span class="va">indicator_names</span>, <span class="va">unit_names</span>, <span class="va">extent_names</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">single_table</span><span class="op">)</span></span>
<span><span class="co">#&gt;   indicator Red fish biomass</span></span>
<span><span class="co">#&gt; 1      unit  Thousand pounds</span></span>
<span><span class="co">#&gt; 2    extent                 </span></span>
<span><span class="co">#&gt; 3      2000 93.1844834797084</span></span>
<span><span class="co">#&gt; 4      2001 94.9660330638289</span></span>
<span><span class="co">#&gt; 5      2002 42.8911627829075</span></span>
<span><span class="co">#&gt; 6      2003  86.435810085386</span></span></code></pre></div>
<p>Example with four metrics representing different areas. In this
example population in millions was recorded annually for four areas from
2000 to 2024.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">annual_by_area</span><span class="op">)</span></span>
<span><span class="co">#&gt;   year   Narnia Westeros  Wakanda  Arrakis</span></span>
<span><span class="co">#&gt; 1 2000 47.95694 38.27504 5.911761 14.60771</span></span>
<span><span class="co">#&gt; 2 2001 47.53304 38.21399 5.855812 15.03110</span></span>
<span><span class="co">#&gt; 3 2002 48.71302 38.18572 5.368780 14.95590</span></span>
<span><span class="co">#&gt; 4 2003 47.45829 39.83290 6.379288 15.53770</span></span>
<span><span class="co">#&gt; 5 2004 48.58389 38.55412 6.008324 14.32786</span></span>
<span><span class="co">#&gt; 6 2005 48.29355 39.77159 5.968176 14.88355</span></span>
<span></span>
<span><span class="co">#Define header components for the data rows (ignore year)</span></span>
<span><span class="va">indicator_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Population"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">annual_by_area</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">unit_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Millions"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">annual_by_area</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">extent_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Narnia"</span>, <span class="st">"Westeros"</span>, <span class="st">"Wakanda"</span>, <span class="st">"Arrakis"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Call the function</span></span>
<span><span class="va">multi_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convert_cleaned_data.html">convert_cleaned_data</a></span><span class="op">(</span><span class="va">annual_by_area</span>, <span class="va">indicator_names</span>, <span class="va">unit_names</span>, <span class="va">extent_names</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">multi_table</span><span class="op">)</span></span>
<span><span class="co">#&gt;   indicator       Population       Population       Population       Population</span></span>
<span><span class="co">#&gt; 1      unit         Millions         Millions         Millions         Millions</span></span>
<span><span class="co">#&gt; 2    extent           Narnia         Westeros          Wakanda          Arrakis</span></span>
<span><span class="co">#&gt; 3      2000 47.9569377740845 38.2750355172902 5.91176089260262 14.6077055237256</span></span>
<span><span class="co">#&gt; 4      2001 47.5330411568284 38.2139893737622 5.85581202909816 15.0311023639515</span></span>
<span><span class="co">#&gt; 5      2002 48.7130214325152 38.1857187915593 5.36878002190497 14.9559015464038</span></span>
<span><span class="co">#&gt; 6      2003 47.4582929555327 39.8328979103826  6.3792876296211  15.537704449147</span></span></code></pre></div>
<p>Example with monthly data and different units. In this example the
environmental parameters temperature (°F) and salinity (ppm) were
measured at two areas on a monthly basis for 10 years.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">multi_unit_monthly</span><span class="op">)</span></span>
<span><span class="co">#&gt;      date   temp_a salinity_a   temp_b salinity_b</span></span>
<span><span class="co">#&gt; 1 2000-01 28.65922   16.31507 27.00010   19.65256</span></span>
<span><span class="co">#&gt; 2 2000-02 28.74830   19.37386 25.54092   19.06942</span></span>
<span><span class="co">#&gt; 3 2000-03 26.14456   18.50483 28.47703   15.51251</span></span>
<span><span class="co">#&gt; 4 2000-04 28.32179   15.79821 25.82020   10.75599</span></span>
<span><span class="co">#&gt; 5 2000-05 27.56698   18.21404 28.70018   10.22700</span></span>
<span><span class="co">#&gt; 6 2000-06 27.07638   11.13719 28.54701   15.13240</span></span>
<span></span>
<span><span class="co">#Define header components for the data rows (ignore year)</span></span>
<span><span class="va">indicator_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Environmental parameters"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">multi_unit_monthly</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">unit_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Temperature (°F)"</span>, <span class="st">"Salinity (ppm)"</span>, <span class="st">"Temperature (°F)"</span>, <span class="st">"Salinity (ppm)"</span><span class="op">)</span></span>
<span><span class="va">extent_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Area A"</span>, <span class="st">"Area A"</span>, <span class="st">"Area B"</span>, <span class="st">"Area B"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Call the function</span></span>
<span><span class="va">monthly_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convert_cleaned_data.html">convert_cleaned_data</a></span><span class="op">(</span><span class="va">multi_unit_monthly</span>, <span class="va">indicator_names</span>, <span class="va">unit_names</span>, <span class="va">extent_names</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">monthly_table</span><span class="op">)</span></span>
<span><span class="co">#&gt;   indicator Environmental parameters Environmental parameters</span></span>
<span><span class="co">#&gt; 1      unit         Temperature (°F)           Salinity (ppm)</span></span>
<span><span class="co">#&gt; 2    extent                   Area A                   Area A</span></span>
<span><span class="co">#&gt; 3   2000-01                 28.65922                 16.31507</span></span>
<span><span class="co">#&gt; 4   2000-02                 28.74830                 19.37386</span></span>
<span><span class="co">#&gt; 5   2000-03                 26.14456                 18.50483</span></span>
<span><span class="co">#&gt; 6   2000-04                 28.32179                 15.79821</span></span>
<span><span class="co">#&gt;   Environmental parameters Environmental parameters</span></span>
<span><span class="co">#&gt; 1         Temperature (°F)           Salinity (ppm)</span></span>
<span><span class="co">#&gt; 2                   Area B                   Area B</span></span>
<span><span class="co">#&gt; 3                 27.00010                 19.65256</span></span>
<span><span class="co">#&gt; 4                 25.54092                 19.06942</span></span>
<span><span class="co">#&gt; 5                 28.47703                 15.51251</span></span>
<span><span class="co">#&gt; 6                 25.82020                 10.75599</span></span></code></pre></div>
<p>Now that our datasets are properly formatted with metadata rows, we
will export them as csvs. Here we will save the files to a temporary
location, but if you are working on a Gulf IEA Ecosystem Status Report,
you will want to save this file to the formatted_csvs folder in the
appropriate data folder depending on your data type.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a temporary file path for the CSV output</span></span>
<span><span class="va">temp_path1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"single_output"</span>, fileext <span class="op">=</span> <span class="st">".csv"</span><span class="op">)</span></span>
<span><span class="va">temp_path2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"multi_output"</span>, fileext <span class="op">=</span> <span class="st">".csv"</span><span class="op">)</span></span>
<span><span class="va">temp_path3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"monthly_output"</span>, fileext <span class="op">=</span> <span class="st">".csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Save each table to its unique temporary file path</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">single_table</span>, file <span class="op">=</span> <span class="va">temp_path1</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">multi_table</span>, file <span class="op">=</span> <span class="va">temp_path2</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">monthly_table</span>, file <span class="op">=</span> <span class="va">temp_path3</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-the-data_prep-function">Using the data_prep function<a class="anchor" aria-label="anchor" href="#using-the-data_prep-function"></a>
</h2>
<p>The data_prep function is the core function of IEAnalyzeR. (Add some
text here about what it does). You can simply specify the file path to
your csv within the function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_single_data</span> <span class="op">&lt;-</span> <span class="fu">IEAnalyzeR</span><span class="fu">::</span><span class="fu"><a href="../reference/data_prep.html">data_prep</a></span><span class="op">(</span><span class="va">temp_path1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">final_single_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 4</span></span>
<span><span class="co">#&gt;  $ data  :'data.frame':  25 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;   ..$ year : num [1:25] 2000 2001 2002 2003 2004 ...</span></span>
<span><span class="co">#&gt;   ..$ value: num [1:25] 93.2 95 42.9 86.4 71.3 ...</span></span>
<span><span class="co">#&gt;  $ ribbon:'data.frame':  40 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;   ..$ year : num [1:40] 2000 2001 2002 2003 2004 ...</span></span>
<span><span class="co">#&gt;   ..$ value: num [1:40] 93.2 95 42.9 86.4 71.3 ...</span></span>
<span><span class="co">#&gt;   ..$ min  : num [1:40] 69 69 42.9 69 69 ...</span></span>
<span><span class="co">#&gt;   ..$ max  : num [1:40] 93.2 95 69 86.4 71.3 ...</span></span>
<span><span class="co">#&gt;   ..$ mean : num [1:40] 69 69 69 69 69 ...</span></span>
<span><span class="co">#&gt;  $ labs  : chr [1:3, 1:2] "indicator" "unit" "extent" "Red fish biomass" ...</span></span>
<span><span class="co">#&gt;  $ vals  :'data.frame':  1 obs. of  18 variables:</span></span>
<span><span class="co">#&gt;   ..$ mean      : num 69</span></span>
<span><span class="co">#&gt;   ..$ sd        : num 24.5</span></span>
<span><span class="co">#&gt;   ..$ minyear   : num 2000</span></span>
<span><span class="co">#&gt;   ..$ maxyear   : num 2024</span></span>
<span><span class="co">#&gt;   ..$ allminyear: num 2000</span></span>
<span><span class="co">#&gt;   ..$ allmaxyear: num 2024</span></span>
<span><span class="co">#&gt;   ..$ mean_tr   : chr "circle_fill"</span></span>
<span><span class="co">#&gt;   ..$ mean_img  : chr "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/circle_fill.png"</span></span>
<span><span class="co">#&gt;   ..$ slope_tr  : chr "arrow_down"</span></span>
<span><span class="co">#&gt;   ..$ slope_img : chr "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/arrow_down.png"</span></span>
<span><span class="co">#&gt;   ..$ mean_sym  : chr "●"</span></span>
<span><span class="co">#&gt;   ..$ slope_sym : chr "↓"</span></span>
<span><span class="co">#&gt;   ..$ mean_word : chr "within"</span></span>
<span><span class="co">#&gt;   ..$ slope_word: chr "a decreasing"</span></span>
<span><span class="co">#&gt;   ..$ mid_y     : num 62.9</span></span>
<span><span class="co">#&gt;   ..$ min_y     : num 26.6</span></span>
<span><span class="co">#&gt;   ..$ max_y     : num 99.1</span></span>
<span><span class="co">#&gt;   ..$ df_nm     : chr "C:\\Users\\BRITTA~1\\AppData\\Local\\Temp\\RtmpyoLs8i\\single_output2c0264158f9.csv"</span></span>
<span></span>
<span><span class="va">final_multi_data</span> <span class="op">&lt;-</span> <span class="fu">IEAnalyzeR</span><span class="fu">::</span><span class="fu"><a href="../reference/data_prep.html">data_prep</a></span><span class="op">(</span><span class="va">temp_path2</span>, subind <span class="op">=</span> <span class="st">"extent"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">final_multi_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 4</span></span>
<span><span class="co">#&gt;  $ data  :'data.frame':  100 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   ..$ year : num [1:100] 2000 2000 2000 2000 2001 ...</span></span>
<span><span class="co">#&gt;   ..$ value: num [1:100] 47.96 38.28 5.91 14.61 47.53 ...</span></span>
<span><span class="co">#&gt;   ..$ subnm: chr [1:100] "Narnia" "Westeros" "Wakanda" "Arrakis" ...</span></span>
<span><span class="co">#&gt;   ..$ id   : num [1:100] 1 2 3 4 1 2 3 4 1 2 ...</span></span>
<span><span class="co">#&gt;  $ ribbon:'data.frame':  151 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;   ..$ year : num [1:151] 2000 2001 2002 2003 2004 ...</span></span>
<span><span class="co">#&gt;   ..$ value: num [1:151] 48 47.5 48.7 47.5 48.6 ...</span></span>
<span><span class="co">#&gt;   ..$ subnm: chr [1:151] "Narnia" "Narnia" "Narnia" "Narnia" ...</span></span>
<span><span class="co">#&gt;   ..$ id   : num [1:151] 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;   ..$ min  : num [1:151] 48 47.5 48 47.5 48 ...</span></span>
<span><span class="co">#&gt;   ..$ max  : num [1:151] 48 48 48.7 48 48.6 ...</span></span>
<span><span class="co">#&gt;   ..$ mean : num [1:151] 48 48 48 48 48 ...</span></span>
<span><span class="co">#&gt;  $ labs  : chr [1:3, 1:5] "indicator" "unit" "extent" "Population" ...</span></span>
<span><span class="co">#&gt;  $ vals  :'data.frame':  4 obs. of  20 variables:</span></span>
<span><span class="co">#&gt;   ..$ allminyear: num [1:4] 2000 2000 2000 2000</span></span>
<span><span class="co">#&gt;   ..$ allmaxyear: num [1:4] 2024 2024 2024 2024</span></span>
<span><span class="co">#&gt;   ..$ minyear   : num [1:4] 2000 2000 2000 2000</span></span>
<span><span class="co">#&gt;   ..$ maxyear   : num [1:4] 2024 2024 2024 2024</span></span>
<span><span class="co">#&gt;   ..$ mean      : num [1:4] 47.97 38.79 5.86 14.93</span></span>
<span><span class="co">#&gt;   ..$ sd        : num [1:4] 0.539 0.662 0.391 0.445</span></span>
<span><span class="co">#&gt;   ..$ mean_tr   : chr [1:4] "circle_fill" "circle_fill" "circle_fill" "circle_fill"</span></span>
<span><span class="co">#&gt;   ..$ mean_img  : chr [1:4] "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/circle_fill.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/circle_fill.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/circle_fill.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/circle_fill.png"</span></span>
<span><span class="co">#&gt;   ..$ slope_tr  : chr [1:4] "arrow_up" "arrow_leftright" "arrow_up" "arrow_down"</span></span>
<span><span class="co">#&gt;   ..$ slope_img : chr [1:4] "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/arrow_up.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/arrow_leftright.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/arrow_up.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/arrow_down.png"</span></span>
<span><span class="co">#&gt;   ..$ mean_sym  : chr [1:4] "●" "●" "●" "●"</span></span>
<span><span class="co">#&gt;   ..$ slope_sym : chr [1:4] "↑" "→" "↑" "↓"</span></span>
<span><span class="co">#&gt;   ..$ mean_word : chr [1:4] "within" "within" "within" "within"</span></span>
<span><span class="co">#&gt;   ..$ slope_word: chr [1:4] "an increasing" "a stable" "an increasing" "a decreasing"</span></span>
<span><span class="co">#&gt;   ..$ subnm     : chr [1:4] "Narnia" "Westeros" "Wakanda" "Arrakis"</span></span>
<span><span class="co">#&gt;   ..$ id        : num [1:4] 1 2 3 4</span></span>
<span><span class="co">#&gt;   ..$ mid_y     : num [1:4] 47.96 38.99 5.79 15.03</span></span>
<span><span class="co">#&gt;   ..$ min_y     : num [1:4] 47.01 38 5.08 14.21</span></span>
<span><span class="co">#&gt;   ..$ max_y     : num [1:4] 48.92 39.99 6.49 15.84</span></span>
<span><span class="co">#&gt;   ..$ df_nm     : chr [1:4] "C:\\Users\\BRITTA~1\\AppData\\Local\\Temp\\RtmpyoLs8i\\multi_output2c03aa96b43.csv" "C:\\Users\\BRITTA~1\\AppData\\Local\\Temp\\RtmpyoLs8i\\multi_output2c03aa96b43.csv" "C:\\Users\\BRITTA~1\\AppData\\Local\\Temp\\RtmpyoLs8i\\multi_output2c03aa96b43.csv" "C:\\Users\\BRITTA~1\\AppData\\Local\\Temp\\RtmpyoLs8i\\multi_output2c03aa96b43.csv"</span></span>
<span></span>
<span><span class="co"># With monthly data, we need to specify the anomaly argument. Either monthly or standardized monthly.</span></span>
<span><span class="va">final_monthly_data</span> <span class="op">&lt;-</span> <span class="fu">IEAnalyzeR</span><span class="fu">::</span><span class="fu"><a href="../reference/data_prep.html">data_prep</a></span><span class="op">(</span><span class="va">temp_path3</span>, anomaly <span class="op">=</span> <span class="st">"monthly"</span>, subind <span class="op">=</span> <span class="st">"extent"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">final_monthly_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 4</span></span>
<span><span class="co">#&gt;  $ data  :'data.frame':  528 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   ..$ year : num [1:528] 2000 2000 2000 2000 2000 ...</span></span>
<span><span class="co">#&gt;   ..$ value: num [1:528] 1.549 2.829 -0.168 6.098 1.753 ...</span></span>
<span><span class="co">#&gt;   ..$ subnm: chr [1:528] "Area A" "Area A" "Area B" "Area B" ...</span></span>
<span><span class="co">#&gt;   ..$ id   : num [1:528] 1 2 3 4 1 2 3 4 1 2 ...</span></span>
<span><span class="co">#&gt;  $ ribbon:'data.frame':  792 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;   ..$ year : num [1:792] 2000 2000 2000 2000 2000 ...</span></span>
<span><span class="co">#&gt;   ..$ value: num [1:792] 1.549 1.753 -0.854 0.756 0.427 ...</span></span>
<span><span class="co">#&gt;   ..$ subnm: chr [1:792] "Area A" "Area A" "Area A" "Area A" ...</span></span>
<span><span class="co">#&gt;   ..$ id   : num [1:792] 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;   ..$ min  : num [1:792] -0.000000000000000162 -0.000000000000000162 -0.853880000000000194 -0.000000000000000162 -0.000000000000000162 ...</span></span>
<span><span class="co">#&gt;   ..$ max  : num [1:792] 1.548823636363636069 1.753009999999999735 -0.000000000000000162 0.755903636363637332 0.426761818181820018 ...</span></span>
<span><span class="co">#&gt;   ..$ mean : num [1:792] -0.000000000000000162 -0.000000000000000162 -0.000000000000000162 -0.000000000000000162 -0.000000000000000162 ...</span></span>
<span><span class="co">#&gt;  $ labs  : chr [1:3, 1:5] "indicator" "unit" "extent" "Environmental parameters" ...</span></span>
<span><span class="co">#&gt;  $ vals  :'data.frame':  4 obs. of  20 variables:</span></span>
<span><span class="co">#&gt;   ..$ allminyear: num [1:4] 2000 2000 2000 2000</span></span>
<span><span class="co">#&gt;   ..$ allmaxyear: num [1:4] 2011 2011 2011 2011</span></span>
<span><span class="co">#&gt;   ..$ minyear   : num [1:4] 2000 2000 2000 2000</span></span>
<span><span class="co">#&gt;   ..$ maxyear   : num [1:4] 2011 2011 2011 2011</span></span>
<span><span class="co">#&gt;   ..$ mean      : num [1:4] -0.0000000000000001616 -0.0000000000000001078 -0.0000000000000001616 0.0000000000000000269</span></span>
<span><span class="co">#&gt;   ..$ sd        : num [1:4] 1.14 2.73 1.13 2.85</span></span>
<span><span class="co">#&gt;   ..$ mean_tr   : chr [1:4] "circle_fill" "circle_fill" "circle_fill" "circle_fill"</span></span>
<span><span class="co">#&gt;   ..$ mean_img  : chr [1:4] "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/circle_fill.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/circle_fill.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/circle_fill.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/circle_fill.png"</span></span>
<span><span class="co">#&gt;   ..$ slope_tr  : chr [1:4] "arrow_up" "arrow_leftright" "arrow_leftright" "arrow_leftright"</span></span>
<span><span class="co">#&gt;   ..$ slope_img : chr [1:4] "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/arrow_up.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/arrow_leftright.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/arrow_leftright.png" "C:/Users/brittanytroast/AppData/Local/R/win-library/4.4/IEAnalyzeR/images/trend_symb/arrow_leftright.png"</span></span>
<span><span class="co">#&gt;   ..$ mean_sym  : chr [1:4] "●" "●" "●" "●"</span></span>
<span><span class="co">#&gt;   ..$ slope_sym : chr [1:4] "↑" "→" "→" "→"</span></span>
<span><span class="co">#&gt;   ..$ mean_word : chr [1:4] "within" "within" "within" "within"</span></span>
<span><span class="co">#&gt;   ..$ slope_word: chr [1:4] "an increasing" "a stable" "a stable" "a stable"</span></span>
<span><span class="co">#&gt;   ..$ subnm     : chr [1:4] "Area A" "Area A" "Area B" "Area B"</span></span>
<span><span class="co">#&gt;   ..$ id        : num [1:4] 1 2 3 4</span></span>
<span><span class="co">#&gt;   ..$ mid_y     : num [1:4] -0.148 0.536 0.111 0.182</span></span>
<span><span class="co">#&gt;   ..$ min_y     : num [1:4] -2.23 -4.76 -2.22 -5.73</span></span>
<span><span class="co">#&gt;   ..$ max_y     : num [1:4] 1.94 5.83 2.44 6.1</span></span>
<span><span class="co">#&gt;   ..$ df_nm     : chr [1:4] "C:\\Users\\BRITTA~1\\AppData\\Local\\Temp\\RtmpyoLs8i\\monthly_output2c04ee52061.csv_monthly_anom" "C:\\Users\\BRITTA~1\\AppData\\Local\\Temp\\RtmpyoLs8i\\monthly_output2c04ee52061.csv_monthly_anom" "C:\\Users\\BRITTA~1\\AppData\\Local\\Temp\\RtmpyoLs8i\\monthly_output2c04ee52061.csv_monthly_anom" "C:\\Users\\BRITTA~1\\AppData\\Local\\Temp\\RtmpyoLs8i\\monthly_output2c04ee52061.csv_monthly_anom"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="plotting-the-data">Plotting the data<a class="anchor" aria-label="anchor" href="#plotting-the-data"></a>
</h2>
<p>IEAnalyzeR includes a standard plotting function (plot_fn_obj) that
will plot the time series data after it has been passed through the data
prep function. The trend = T argument will show the recent 5 year
trend.</p>
<p>Example with the single metric dataset:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">IEAnalyzeR</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_fn_obj.html">plot_fn_obj</a></span><span class="op">(</span><span class="va">final_single_data</span>, trend <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="How_to_use_IEAnalyzeR_files/figure-html/unnamed-chunk-3-1.png" class="r-plt" alt="" width="576"></p>
<p>Example with the multi-area data:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">IEAnalyzeR</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_fn_obj.html">plot_fn_obj</a></span><span class="op">(</span><span class="va">final_multi_data</span>, trend <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="How_to_use_IEAnalyzeR_files/figure-html/unnamed-chunk-4-1.png" class="r-plt" alt="" width="576"></p>
<p>Example with the monthly data:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">IEAnalyzeR</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_fn_obj.html">plot_fn_obj</a></span><span class="op">(</span><span class="va">final_monthly_data</span>, trend <span class="op">=</span> <span class="cn">T</span>, sep_ylabs <span class="op">=</span> <span class="cn">TRUE</span>, ylab_sublabel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"extent"</span>, <span class="st">"unit"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="How_to_use_IEAnalyzeR_files/figure-html/unnamed-chunk-5-1.png" class="r-plt" alt="" width="576"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brittany Troast, Carissa Gervasi, Brendan Turley, Willem Klajbor.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
